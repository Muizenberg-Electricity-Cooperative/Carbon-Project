# WHITE PAPER

## PLEDGE-BASED COMMUNITY ENERGY MODEL WITH BLOCKCHAIN, CARBON CREDITS, NET-METERING & TIME-OF-USE BIDDING

## Version 1.0

## Project Outline

For some months now we have been congregating around a draft constitution and business plan, informed by our working analysis of South Africa's energy crisis.

South Africa’s energy policy is stated in a variety of documents including the National Development Plan and the Electricity Regulation Act 2006. In addition there are proposed amendments (now adopted) contained in the Electricity Regulation Amendment Bill currently tabled before Parliament. Our province the Western Cape and our metro, the City of Cape Town, also have their own respective bylaws and regulations.

Under the current system the National Energy Regulator of South Africa (NERSA), regulates the market and sets tariffs. The outcome is that, both the wheeling of electricity supply and resulting tariff structure is rather limited, with consequences which equate to lack of availability of energy.

There are moves afoot under the current amendment bill, to divide Eskom into generation and distribution entities, with IPPs already an important part of the energy mix, and thus opening up the grid to competition within a hybrid model, this entails a major shift in public policy as it effects energy consumers.

In addition the metro has been experimenting with a system in which some corporates with large renewable energy installations are allowed to wheel energy to third parties. Details of the resulting billing systems are still opaque.

The current feed-in tariff approved by NERSA stands at 78.98c/kWh. The city's incentive (on top of the tariff) amounts to an additional 25c/kWh (103.98c/kWh). This however needs to be seen within the context of the domestic retail price 350.80 c/kWh (block 1 under 600kWh) & 426.56 c/kWh (block 2 over 600kWh)) which exceeds that of Eskom.  Prosumers with grid-tied feed-in metres are constrained insomuch as this quotient may be offset by the modest feed-in tariff, while ordinary consumers cannot.

Under the system, which is organised much like a pyramid scheme, with the City setting the tariffs which occur in excess of the regulator guidance, and controlling all billing, there is essentially only one downstream market, with the a single supplier and retail outlet for energy, although several pre-paid companies and prepaid metre token resellers, exist in a food chain where additional fees are incurred for use of payment gateway, there is a total absence of market forces. IPPs for example cannot wheel energy directly to consumers.

## Shared Housing Schemes

Another dimension to the problem is the lack of policy with regard to collective schemes, shared housing projects and rental accommodation.  A renter with a prepaid metre may indirectly benefit from energy fed into the system by a ‘prosumer’ but is excluded from the feed-in tariff opportunity, which represents a restriction on market participation, and the market itself, representing a walled garden.

City Policy as it stands, assumes a one-to-one relationship where every home has a prepaid metre and every producer-consumer of domestic energy i.e prosumer, similarly provisioned and rewarded accordingly. There are no options with regard to sharing infrastructure amongst prosumers, and no means by which a prosumer may wheel energy to and from his or her neighbour who lacks the ability to produce. Likewise, no options exist to lower barriers to entry, for collective schemes by way of a shared grid-tied feed in metre.

## Solution

Our proposed system initially involved an abstraction of the tariff structure as it stood. This meant that nothing further would be required from the City other than an endorsement of our plan, and we would thus take the feed-in tariff as our baseline, a known quantity.

As our system developed we realised that we could bypass the feed-in tariff, making it unnecessary to concern ourselves with the City. Our system primarly focuses on creating an 'Oracle of Data' based upon varifiable domestic production of watts.

In order to correct the deficiencies in public policy we initially aimed to create a pool into which ‘prosumers’ already servicing the City could pledge a proportion or 100% of their output in the form of the feed-in-tariff rebate. But since this would mean those not able to feed-into-the-grid were left out, our latest iteration of our proposal relies soley upon varified production of electricity eligible for carbon credits.

We keep our initial ideas inside our white paper in order to note them for future discussion, but for now, our aim is to simply not complicate utility.

Thus our scheme ** books one unit for every unit added to the common pool **  not just the City grid. 

We need to note here a pledge model may be considered allowing actual energy to be pledged to our scheme, and in return an audit of one offset reward for every offset gained, and treated accordingly, but we will leave this thread for later.

This fundamental token, whether pledged or not, for the purposes of this white paper is measured in a proposed MuizenJoules “mJ” and constitutes our tokenised unit in issue, which is alble to accrue a carbon credit in the form of "aC"

### Tokenisation: Smart Contract, Pay-it-Forward, Energy Credits

Advances in Blockchain Technology make it possible to issue smart contracts. "Smart contract platforms” are thus “decentralized systems that enable self-executing contracts on a blockchain,"

Several blockchain technology platforms are currently used for executing smart contracts. According to George Lawton, they're usually characterized as level 1 (L1) or level 2 (L2) platforms.

L1 platforms are blockchains where smart contracts are executed directly on the main core platform. Prominent examples are Ethereum, Solana, Cardano and BNB Smart Chain.

L2 platforms execute the smart contracts on a parallel space so they can run more efficiently and quickly, then roll up changes to the core platform. Examples of L2 platforms include Ethereum ZK-Rollups, Ethereum Optimistic Rollups and Polygon. Many of the newer offerings support both L1 and L2 capabilities.

At this stage, our project would require a thorough cost-benefit evaluation of these platforms in order to arrive at the most cost-effective solution.  As detailed in the project README, Polygon is proposed since its gas fees are a lot lower than Ethereum.

#### The mJ Smart Contract

There are a number of variables and conditions that may exist in the form of a smart contract as proposed in mJ.

1.  One mJ unit in its basic form is minted for every one watt of variable domestic production of electricity. This is the current preferred method.

2. A pledge contract may also be generated within the mJ ecosystem, in which a Pledgor agrees to Pay-Energy-Forward and likewise, wants may wish to reserve or store energy for the future. The mJ pledge contract exists until it is burnt via an act of distribution according to the underlying variable or condition.

3.  An example: a person without energy, retrieves a pledgement from the common pool, but cannot withdraw all the energy at face value, because it has a conditional ratio: 60% awarded to needy users divided by the pool of actual users, or 40% awarded to prosumers divided by the pool of prosumers, who include the entire pool of prosumers including the originator. This exercise is currently not implemented but we leave this here for future consideration.

4.  The mJ token is not fully burnt until all the conditions are fulfilled, thus it exists on the underlying chain as a smart contract entry until the max condition in , 60% needy and 40% prosumers, all utilise the token.the use caseL

5.  Another example: A pledgor uses the mJ as a simple reserve of energy. The smart contract indicates that only he or she can redeem the token. It exists within the system, drawing nominal interest in the form of the secondary token proposed below.


### Carbon Register on the Blockchain

In its most basic form, mJ is traded for aC via the carbon trading desk API on various exchanges.

An incentive on top of the City incentive to produce further input to the grid and/or domestic surplus by adding initial pledged mJ, is found by creating an (immediate) reward to our members for their participation in the form of a secondary register of carbon credits. We are still uncertain as to the exact implementation.

Any esulting income stream may benefit the prosumer directly by either rewarding every holder of mJ with an additional token which together with mJ may be said to represent a third entity ‘cArb’ which like mJ is redeemable for fiat and/or energy, and creating additional factors which allow this unit to feed back into the system in the form of tokenised aC+ credits and simple mJ, and distributed according to the variable conditions outlined in the previous smart contract section above.

## There is a big caveat at the face. Rolling our own carbon credit system, in which the collective scheme registers the production of renewable energy on the system to generate aC+ and applies it to the global carbon credits regime can only exist if when the mJ pledge is made, a corresponding carbon credit is not also added to the City coffers via a similar scheme.

Our pledge system would thus require an enforceable, contractual restraint issued against the City in favour of the collective scheme, and thus restraining the city from booking credits in this way without our consent under common law. In any event, such a carbon trading scheme at City level does not appear to exist, yet.

Once a credit was booked on the system, in the form of mJ, it would be minted along with the initial pledge, with the pledgor receiving an immediate bonus in the form of aC+ and/or the wrapped token pair represented cArb. The creation of this additional incentive however is not a necessary condition in order for our primary mJ system to function, but rather an added benefit.

In fact, if we encounter hurdles which prevent us from fully auditing the generation and creation of mJ, then aC+ may represent a fall-back strategy. But for now let us assume we are able to gather all the data and input all the pledges into our systems in the format intended, and without any restrictions on this activity by the powers that be. 

NOTE: Chainlink Oracles have been proposed as the solution to data varification 

#### Carbon Credit rev

Take the case of a scheme member who purchases an mJ token, which lso receives carbon revenue in the form of an aC token issued as a reward. Since each mJ would have a relationship to aC depending upon the pledgement choice, a smart contract linking the two tokens is issued.

Users of our system either convert the two tokens as cArb when required to purchase or redeem energy, or reward other parties via conversion or splitting into ‘energy’ or ‘cash’. Once the underlying contract expires, and the the concluding condition (provide transactional energy on our system) is fulfulled, the token vanishes

The system would thus ‘burn’ the resulting tokens after an instant onchain audit, a self-correcting thsystem to avoid the problem of our tokens exceeding the actual energy supply, or an equally problematic devaluation situation, whose progress requires further modelling and monitoring.

cArb (cA+mj) Tokens would always be issued based upon the total resource created, and logged as blockchain entries, with a corresponding ledger and transaction entry, enabling real-time auditing.

All tokens on the system would thus form the basis for a virtualised entity, a virtual power station providing payments and energy and even services on the system, which may be rolled out as a cooperatively owned, community-focused, virtual power utility, providing access to home appliances and other financing options?

### Onboarding Pledges & Smart Contracts

Until such time as there is a dedicated mJ metre, a compliant data output port or socket, that coexists on a DB board alongside the City feed-in metre, methods of extrapolating and inputing data into the system need to be considered.

1. The first method which springs to mind is to simply OCR the monthly energy bill, in effect the City information is scraped from the paper or data provided by the city and forms the basis of the chain of evidence underlying the system and its audit process.

2. Edge hosting projects involving ESP32 plus an MPEG camera may be able to directly input data from the current prepaid meter LCD, streaming the data directly to Home Assistant, and our Chainlink Oracle.

3. Another option is to simply allow the purchase of mJ via ZAR. A prosumer gains R50 credit but then feeds this into our system. Efficiency here is highly problematic. How are we to avoid network and gateway entry and exit feeds?

### Note: Can we generate a specification for future net-metering that will allow us to co-exist? We must advovate for Open Source Data, and Open Spec Metering!

### Net-metering Use Case. Open Metering vs Closed Metering

While it is relatively simple, but by no means easy under the current regime, to monitor the output of a solar array into the City metering systems, and to audit the backend billing that takes place, finding an efficient gateway to converting mJ and aC+ (collectively cArbs) presents us with a more profound challenge. A consumer is stuck with whatever metre installation is readily at hand, in most cases, a closed, proprietary prepaid metre showing a zero balance. How then do we satisfy consumer demand? A user may purchase a redeemable mJ token via our app, or be rewarded with the resulting cArb tokens via our pay-it-forward smart contract condition. The token simultaneously represents a unit of electricity and carries a face value, but has no intrinsic value until it is actually used and deployed towards providing electricity.

One approach is to find a way to wrap the system which already exists.

The system wrapper, essentially extrapolates and bids for the blockchain units which are converted into electricity. The system could piggyback on preexisting net metre infrastructure or become part of a new rollout of an open metering system, in which various third party blockchain tokens may be all coexist.

As a point of order, since we are a cooperative, we all win if we act to lower the cost of electricity whilst increasing energy availability under an open system.

### Token Reserve vs Real Energy

A prosumer with a pledge agreement in place in the form of multiple smart contracts, shows a large cArb surplus on the system but not distributed to members under any condition, the scheme as already stated, may act as a reserve and in effect the pledgor becomes the future pledgee, when pledge or smart contract is redeemed, in effect our system is an energy bank.

Members of the collective scheme draw cArbs which in turn draw from either mJ or aC+ token pools, as and when needed, and based upon audited energy availability. Since each token would be cryptographically unique there should in theory, be no possibility of forging tokens and manipulating the system.

Every blockchain rests on a consensus mechanism that ensures that: 1) the network is distributed and not controlled by any single party; 2) the validator nodes are incentivized to behave honestly; and 3) blocks, once verified, can no longer be tampered with or changed.

Since the tokens already have a fiat face value, in essence representing a real-world good, when they are minted, and holding them produces a reward in the form of any aC+ revenue distribution by the tiered system based upon carbon trading, the question arises, how are we actually tackling inflation and climate change? It is important here to distinguish our total reserve of tokens and the actual real world.

### Voluntary Carbon Markets

The voluntary carbon market (VCM), according to the Rocky Mountain Institute, has a trust problem: The quality and efficacy of the existing carbon credit supply has drawn widespread skepticism. The environmental group has thus implemented a ‘Carbon Markets Initiative’ and is working to enable collective action to generate trust in the quality of the data associated with on-chain carbon credits. We are thus also interested in identifying blockchain use cases relevant to the needs of those who create, track, certify, sell, and buy carbon credits.

Where does the aC+ component of cArb derive its value? Gateways to those chains which have demonstrated trust and which represent real-world carbon reduction technologies are being rolled out. By turning ourselves into a trust-worthy source of renewable energy, whose abstractions represent real-world goods, our tokens become assets within a broader global ecosystem. We reward our users who in turn reward other networks wishing to generate a carbon and energy offset.

This still begs the question: How would Ethereum ETH, for example, be turned into cArb and vice versa? How long would our tokens remain in place? What are the necessary conditions to allow for exploitation at the same time as combating climate change?

### Autobidding, Time-of-Use, Future Arbitrage

In addition to the above, an experimental time-of-use bidding & arbitrage process could augment the collective feed in system, but since this adds a layer of complexity to the already somewhat complex tokenised system, it requires a good deal of planning and forethought, and would need to first be tested as a large data model, in order to arrive at the best algorithms before rollout, which would enable machine learning and artificial intelligence to predict future demand, audit availability of supply and to set prices accordingly. Consequently, I recommend dealing with this system in a separate white paper.

As already mentioned. the following all come into play under our proposes system: real world energy measured in Watts, mJ our abstracted token energy, aC+ our carbon credit, ZAR, the fiat rand economy, and of course, Time (T).

### Overview of our Team

Please add yourself here by submitting a [pull request](https://github.com/umbane/carbon-project/compare/main...umbane:carbon-project:main)

### Information regarding token release and marketplace considerations

Pending.

### Roadmap

1.  Letters of Incorporation as a Cooperative
2.  Registration of our first pledge
3.  Registration of our first carbon credit
4.  First successful audit of the system
5.  First tokenised unit minted via blockchain/sidechain
6.  Release of our redeemable tokens on top of our blockchain/sidechain.
7.  First test of our network net-metering, payment gateway to third parties.
8.  First test of an autobid and local time of use tariff contract.
9.  Future smart contracts issued

### Discussion

The utility may extend to redeeming ordinary goods and services, how does this impact users?

The token may enable financing of home solar arrays, discuss, and become part of the infrastructure and information fabric of our future energy systems.

Consider the problem of early adoption - a user retrieves a token awarded by the system, but cannot convert it into very much else, at least until other systems adopt or support the token.

How do we plan for our roll-out and roadmap in a way that generates enthusiasm, trust and support for our network?

## Project Details from README.md and other docs

This project integrates a carbon credit system with an energy token system. 

 The core contracts are `carboncredits.sol`, `credittoken.sol`, and `certification.sol`.  `carboncredits.sol` manages registration of stakeholders. `credittoken.sol` (an ERC20 token) manages carbon credits. `certification.sol` (inheriting from `credittoken.sol`) adds certification-specific logic.  The `integration/IntegrationContract.sol` integrates the carbon credit and energy token systems.  A Chainlink oracle will verify energy usage data for minting mJ tokens.  The project also includes a separate contract for energy (mJ) and carbon credit (aC) tokens (`token.sol`) and a contract from a separate repository (`/home/dav/Projects/mecc-token/contracts/Token.sol`) that needs to be merged.  Future work includes Chainlink integration, a carbon credit gateway API, merging the external contract, defining the mJ/aC relationship, and refactoring to the Polygon network.  The project aims to increase liquidity, transparency, accessibility, and standardization in carbon markets, using an ERC20 token and a decentralized exchange.  A carbon removal certificate (NFT) will be issued for successful carbon credit usage.  The project involves generators, consumers, validators, and regulators.  Onboarding involves converting carbon credits to ERC20 tokens, trading on a decentralized exchange, and a "buy and burn" mechanism for retiring tokens.  A Balancer Smart Pool (AMM) will be created for trading DAI and Carbon tokens.  The Chainlink integration will use a reliable data source, a Chainlink node, and smart contract modifications to `Token.sol` for requesting, verifying, and minting tokens based on verified energy usage data.
